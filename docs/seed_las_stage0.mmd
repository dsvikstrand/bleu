flowchart TD
  A["ID:A seed/seed_spec_v0.json (Seed Spec) TESTED_OK"] --> B["ID:B seed_stage0.ts (parse args + validate spec) TESTED_OK"]
  B --> C["ID:C Create run folder seed/outputs/RUN_ID/ TESTED_OK"]
  C --> D{"ID:D no backend NOT_TESTED"}

  D -- Yes --> E["ID:E Offline mode (skip backend calls) NOT_TESTED"]
  E --> F["ID:F Write run_log.json backendCalls=false NOT_TESTED"]
  F --> Z

  D -- No --> G["ID:G Read SEED_USER_ACCESS_TOKEN TESTED_OK"]
  G --> H["ID:H n1 generate_library POST /api/generate-inventory TESTED_OK"]
  H --> H1["ID:H1 Write library.json TESTED_OK"]

  H1 --> I["ID:I n2 generate_blueprints POST /api/generate-blueprint TESTED_OK"]
  I --> I1["ID:I1 Write blueprints.json TESTED_OK"]

  I1 --> J["ID:J n3 build review_requests (no network) TESTED_OK"]
  J --> J1["ID:J1 Write review_requests.json TESTED_OK"]

  J1 --> K["ID:K n4 build banner_requests (no network) TESTED_OK"]
  K --> K1["ID:K1 Write banner_requests.json TESTED_OK"]

  K1 --> L["ID:L n5 validate category+item references TESTED_OK"]
  L --> L1["ID:L1 Write validation.json TESTED_OK"]

  L1 --> M["ID:M n6 publish_payload (no writes) TESTED_OK"]
  M --> M1["ID:M1 Write publish_payload.json TESTED_OK"]

  M1 --> N["ID:N Append run_log.json timings+status TESTED_OK"]
  N --> Z

  Z["ID:Z Done (artifacts only) TESTED_OK"]
